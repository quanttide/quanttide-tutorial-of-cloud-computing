---
author: 王鹏宇

coauthors: 邹桢皓

created_at: 

updated_at:

---

# 云函数的依赖

本讲的教学目标是：

 - 认识依赖和云函数部署依赖的方式
 - 打包上传云函数依赖
 - 云函数的层管理


## 一、依赖介绍

python本身做为一门解释性语言，说它功能强大，是因为它有着丰富的模块或称之为列表依赖(包)，一些热衷于开源的朋友开发了应用于不同领域使用的第三方模块，
一起构成了python强大功能的生态。为了直观体会依赖的作用，你可以想象一下使用python求开平方的函数代码。

```python
import math

sqrt = math.sqrt(x)
```

而如果你想要自己完成，是需要一定时间并投入一定精力的（具体的开平方算法读者可以自行了解）。
使用python依赖的好处，正是省去这部分已经被他人完成的重复劳动，通过简单的调用API或者其他途径简单实现想要的功能。
如果你对于很多依赖都并不熟悉，这并不会很大程度上影响你的云函数体验，你完全可以在需要使用时再去学习你要使用的某一特定库。

本章将以常用数据分析库numpy为用例，介绍云端依赖部署和使用过程。

## 二、依赖部署的方法

由于云函数的不断完善，许多库已经被内置在云函数计算中，读者可以前往https://cloud.tencent.com/document/product/583/55592 自行查看。

基础的依赖部署方法分为两种，分别是`本地打包依赖上传`和`云端ide控制台终端安装`，其中本地打包依赖上传会和操作系统有关，
因此可能会出现部署到云端无法正常使用的问题。这里只讲述云端ide控制台终端安装。

### 使用云端ide控制台终端pip安装
你可以直接在云端ide的控制台调用相关命令执行依赖库的安装。

- 首先在云函数服务页面选择需要安装依赖的云函数，进入函数管理-> 函数代码-> 终端
- 等待加载完成后运行命令

```
pip install numpy
```

## 结语
至此，基础的依赖上云方法已经介绍完了，但是云函数本身也存在着各种兼容问题，可能ide会在代码开头的import中显示错误，属于正常现象，请通过测试来尝试是否有依赖问题。
如果你尝试了各种方法依然无法部署，这可能与系统和依赖的兼容性有关系。之后的篇章中会介绍其他的部署方法，如容器安装依赖，ci流水线依赖安装等等


